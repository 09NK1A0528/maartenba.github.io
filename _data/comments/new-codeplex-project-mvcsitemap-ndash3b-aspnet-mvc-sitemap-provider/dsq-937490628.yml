id: dsq-937490628
date: 2009-04-27T23:27:00.0000000+02:00
name: charlie
avatar: https://disqus.com/api/users/avatars/charlie.jpg
message: <p>I wish it can support following pattern if that is possible:</p><p>In the web.config try to define provider follow this pattern:<br>   And in the web.config:</p><p>      &lt;siteMap defaultProvider="default"&gt;<br>      &lt;providers&gt;<br>         &lt;add name="MvcSiteMapDefault"<br>             type="MvcSiteMap.Core.MvcSiteMapProvider"<br>             SiteMapFile="~/Web.Sitemap"<br>             securityTrimmingEnabled="true"<br>             cacheDuration="10"<br>             scanAssembliesForSiteMapNodes="true"<br>             treatAttributesAsRouteValues="true"<br>             aclModule="MvcSiteMap.Core.DefaultMvcSiteMapAclModule, MvcSiteMap.Core"/&gt;<br>  &lt;/providers&gt;<br>        &lt;add name="MvcSiteMapAdmin"<br>             type="MvcSiteMap.Core.MvcSiteMapProvider"<br>             SiteMapFile="~/Web.Sitemap"<br>             securityTrimmingEnabled="true"<br>             cacheDuration="10"<br>             scanAssembliesForSiteMapNodes="true"<br>             treatAttributesAsRouteValues="true"<br>             aclModule="MvcSiteMap.Core.DefaultMvcSiteMapAclModule, MvcSiteMap.Core"/&gt;<br>  &lt;/providers&gt;<br>    &lt;/siteMap&gt;</p><p>And in the code behind of maste page, call following in page_load::<br>private void SetSitemap()<br>        {<br>            if (Roles.IsUserInRole("Administrator"))<br>            {<br>                DemoSiteMapDataSource.SiteMapProvider = "Admin";<br>            }<br>            else if (Roles.IsUserInRole("Branch Administrator"))<br>            {<br>                DemoSiteMapDataSource.SiteMapProvider = "BranchAdmin";<br>            }<br>            else if (Roles.IsUserInRole("User"))<br>            {<br>                DemoSiteMapDataSource.SiteMapProvider = "user";<br>            }<br>        }</p><p>And DemoSiteMapDataSource is type of following defined in maste page:</p><p> &lt;asp:SiteMapDataSource ID="DemoSiteMapDataSource" runat="server" /&gt;</p><p>And that require the MenuHelper class use SiteMapDataSource type as input.</p>
