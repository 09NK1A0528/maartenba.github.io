id: dsq-1701959064
date: 2014-11-19T21:38:46.0000000+01:00
name: IDisposable
avatar: https://disqus.com/api/users/avatars/IDisposable.jpg
message: <p>Love IT.  I've got an enhanced variant here <a href="https://gist.github.com/IDisposable/77f11c6f7693f9d181bb" rel="nofollow noopener" title="https://gist.github.com/IDisposable/77f11c6f7693f9d181bb">https://gist.github.com/IDi...</a></p><p>Made it allow hyphens in the domain segment match.</p><p>Made it require the domain segment pattern to match one or more characters per comment <a href="https://stackoverflow.com/questions/278668/is-it-possible-to-make-an-asp-net-mvc-route-based-on-a-subdomain#comment3221346_2723863" rel="nofollow noopener" title="https://stackoverflow.com/questions/278668/is-it-possible-to-make-an-asp-net-mvc-route-based-on-a-subdomain#comment3221346_2723863">https://stackoverflow.com/q...</a></p><p>Made the domain patterns use a ConcurrentDictionary of Regex patterns, since in most uses you will have multiple routes with the same pattern.</p><p>Made RemoveDomainTokens use the list of tokens it inserted (cached away in the Items collection) to remove from the value returned in GetRouteData instead of using another Regex to parse it back out.</p><p>Ensures that once a route is matched we don't try others that might match when GetRouteData is called.</p><p>Added helpers to let you do the routing more idiot proof using DomainRouteCollection andDomainAreaRegistrationContext adapters</p>
