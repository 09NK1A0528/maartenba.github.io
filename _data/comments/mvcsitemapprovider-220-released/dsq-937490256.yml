id: dsq-937490256
date: 2010-11-02T04:24:06.0000000+01:00
name: Fernando B
avatar: https://disqus.com/api/users/avatars/Fernando B.jpg
message: "<p>Can you provide an example on how to use the new output templates? I'm not sure if I'm doing it right. I create a \"DisplayTemplates\" folder under the \"Views\" folder in my project. Then i added a \"Test.ascx\" partial view, in it I put:</p><p>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;MvcSiteMapProvider.Web.Html.Models.MenuHelperModel&gt;\" %&gt;<br>&lt;%@ Import Namespace=\"System.Web.Mvc.Html\" %&gt;</p><p>&lt;ul class=\"test\"&gt;<br>    &lt;% foreach (var node in Model.Nodes) { %&gt;<br>    &lt;li&gt;&lt;%=Html.DisplayFor(m =&gt; node)%&gt;<br>    &lt;% if (node.Children.Any()) { %&gt;<br>        &lt;%=Html.DisplayFor(m =&gt; node.Children)%&gt;<br>    &lt;% } %&gt;<br>    &lt;/li&gt;<br>&lt;% } %&gt;<br>&lt;/ul&gt;</p><p>Then when i use the HtmlHelper like so: Html.MvcSiteMap().Menu(\"Test\")<br>I get an exception: System.ArgumentNullException: Value cannot be null.<br>Parameter name: stream<br>...<br> MvcSiteMapProvider.Web.Html.MenuHelper.Menu(MvcSiteMapHtmlHelper helper, String templateName, Boolean showStartingNode) in C:\\Projects\\Codeplex\\TFS10\\mvcsitemap\\Main\\MvcSiteMapProvider\\MvcSiteMapProvider\\Web\\Html\\MenuHelper.cs:156<br>...</p><p>I've been using the previous version of the MvcSitemapProvider for a while but I really need the ability to customize the html that is being generated. Thanks for this awesome tool, great work!</p>"
